<!DOCTYPE html>
<html lang="es">
    <head>
        <meta http-equiv="Content-Security-Policy"
            content="default-src https://code.jquery.com https://fonts.gstatic.com https://apis.google.com https://code.jquery.com/ https://ssl.gstatic.com https://meme-generator-jcg-jmm.herokuapp.com/ https://memegenerator-jcg-jmm.herokuapp.com/ http://localhost:3000 https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js https://res.cloudinary.com/memegenerator/image/upload/ 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src https://fonts.googleapis.com 'self' 'unsafe-inline'; media-src *; img-src 'self' data: content:;">
        <meta name="format-detection" content="telephone=no">
        <meta name="msapplication-tap-highlight" content="no">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0" />
        <title>Meme Generator</title>

        <!-- CSS  -->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection" />
        <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection" />
    </head>

    <body> 
        <!-- Tabs Declaration -->
        <ul id="tabs" class="tabs center tabs-fixed-width">
            <li class="tab col s3"><a class="active black-text" href="#editorTab">Editor</a></li>
            <li class="tab col s3"><a class="black-text" href="#searchTab">Buscador</a></li>
            <li class="tab col s3"><a class="black-text" href="#dataTab">Datos</a></li>
        </ul>
        <!-- Editor Tab -->
        <div id="editorTab" class="col s12">
            <div id="canvasContainer" class="custom-border custom-border-radius-bottom" style="height: 60vh; margin: 2em;">
                <canvas id="canvas" style="height: 70%; width: max-content;">
                </canvas>
                <form class="custom-padding-right-left-1em">
                    <div class="row" style="margin-bottom: 0 !important;">
                        <div class="input-field col s12" style="margin-top: 0 !important; margin-bottom: 0 !important;">
                            <input id="topLine" placeholder="Texto arriba">
                            <label class="active" for="topLine"></label>
                        </div>
                    </div>
                    <div class="row" style="margin-top: -10px !important; margin-bottom: 0 !important;">
                        <div class="input-field col s12" style="margin-top: 0 !important; margin-bottom: 0 !important;">
                            <input id="bottomLine" placeholder="Texto abajo">
                            <label class="active" for="bottomLine"></label>
                        </div>
                    </div>
                </form>
            </div>
            <div id="editorContainer" style="position: static; height: auto;">
                <div class="row">
                    <a class="waves-effect waves-light btn centrar custom-border-radius green custom-width-80" id="btnSelectMeme" type="file">
                        Seleccionar Imagen
                    </a>
                </div>
                <div class="row">
                    <a class="waves-effect waves-light btn centrar custom-border-radius green custom-width-80" id="btnDownloadMeme" type="file">
                        Descargar Meme
                    </a>
                </div>
                <div class="row">
                    <a class="waves-effect waves-light btn centrar custom-border-radius green custom-width-80" id="btnUploadMeme" type="file">
                        Subir Meme
                    </a>
                </div>
            </div>
        </div>

        <!-- Search Tab -->
        <div id="searchTab" class="col s12">
           <div id="searchContainer" class="centrar">
                <div class="row">
                    <div id="searchBarContainer" class="input-field col s12 custom-margin-top-2em">
                        <input id="searchbarInput" type="text" placeholder="Ej. Doggo, TrollFace, Shrek">
                        <label for="searchbarInput">Busqueda</label>
                    </div>
                </div>
                <div class="row">
                    <div id="searchResultContainer">
                        <ul id="searchMemeList" class="collapsible custom-border custom-border-radius custom-scroll-y" style="height: 60vh; max-height: 60vh; margin: 1em;">
                            <li></li>
                        </ul>
                    </div>
                    <div id="editorContainer" style="position: static; height: auto;">
                        <div class="row">
                            <a class="waves-effect waves-light btn centrar custom-border-radius green custom-width-80" id="btnUploadMeme" type="file">
                                Buscar Meme
                            </a>
                        </div>
                    </div>
                </div>
           </div>
        </div>

        <!-- Data Tab -->
        <div id="dataTab" class="col s12">
            <div id="dataContainer" class="centrar">
                <div class="row">
                    <div id="userDataContainer" class="custom-margin-left-1em">
                        <p>
                            Memes creados por el usuario: <span id="lblUsername">Usuario</span>
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div id="dataResultContainer" class="centrar">
                        <ul id="userMemeList" class="collapsible custom-border custom-border-radius custom-scroll-y" style="height: 60vh; max-height: 60vh; margin: 1em;">
                            <li></li>
                        </ul>
                    </div>
                </div>
                <div class="row">
                    <a class="waves-effect waves-light btn centrar custom-border-radius green custom-width-80" id="btnUploadMeme" type="file">Descargar meme</a>
                </div>
           </div>
        </div>

        <!-- Hidden image to retrive from canvas -->
        <img id="imgSelected" style="visibility: hidden; display: none;" src="/img/basememe.jpg">
          
        <!--  Scripts-->
        <script src="cordova.js"></script>
        <script src="js/jquery.min.js"></script>
        <script src="js/materialize.min.js"></script>
        <script src="js/MemeGenerator.js"></script>
        <script src="js/base.js"></script>
        <script src="js/index.js"></script>

        <script src="js/canvas.js"></script>
    </body>

</html>